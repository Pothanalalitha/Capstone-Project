package com.example.wipro.lalitha.mapper;

import java.util.stream.Collectors;

import com.example.wipro.lalitha.dto.MedicalRecordDTO;
import com.example.wipro.lalitha.entites.MedicalRecord;

public class MedicalRecordMapper {

    public static MedicalRecordDTO toDTO(MedicalRecord record) {
        if (record == null) return null;
        MedicalRecordDTO dto = new MedicalRecordDTO();
        dto.setId(record.getId());
        dto.setDescription(record.getDescription());
        dto.setIssue(record.getIssue());
        dto.setDoctorName(record.getDoctorName());
        dto.setTreatedAt(record.getTreatedAt());
        dto.setRevisitDate(record.getRevisitDate());
        dto.setMedicines(
            record.getMedicines()
                .stream()
                .map(MedicineMapper::toDTO)
                .collect(Collectors.toList())
        );
        return dto;
    }
}
