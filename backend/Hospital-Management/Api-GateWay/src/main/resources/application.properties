spring.application.name=Api-GateWay

server.port=8088

# Eureka client config for discovery
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# Gateway service discovery enabled
spring.cloud.gateway.discovery.locator.enabled=true

# JWT secret, match with Auth-Service
jwt.secret=YourSuperSecretKeyHere

# Actuator endpoints exposure
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true

# Resilience4j Circuit Breaker
resilience4j.circuitbreaker.instances.apiGatewayCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.apiGatewayCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.apiGatewayCircuitBreaker.registerHealthIndicator=true

# Logging levels in properties (no XML)
logging.level.root=INFO
logging.level.org.springframework.cloud.gateway=INFO
logging.level.com.example.apigateway=DEBUG

# Swagger/OpenAPI paths
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Route configurations

spring.cloud.gateway.routes[0].id=appointment-service
spring.cloud.gateway.routes[0].uri=lb://APPOINTMENT-SERVICE
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/appointments/**

spring.cloud.gateway.routes[1].id=auditlogs-service
spring.cloud.gateway.routes[1].uri=lb://AUDITLOGS-SERVICE
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/auditlogs/**

spring.cloud.gateway.routes[2].id=billing-service
spring.cloud.gateway.routes[2].uri=lb://BILLING-SERVICE
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/billing/**

spring.cloud.gateway.routes[3].id=doctor-service
spring.cloud.gateway.routes[3].uri=lb://DOCTOR-SERVICE
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/doctors/**

spring.cloud.gateway.routes[4].id=notification-service
spring.cloud.gateway.routes[4].uri=lb://NOTIFICATION-SERVICE
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/notifications/**

spring.cloud.gateway.routes[5].id=patient-service
spring.cloud.gateway.routes[5].uri=lb://PATIENT-SERVICE
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/patients/**

spring.cloud.gateway.routes[6].id=auth-service
spring.cloud.gateway.routes[6].uri=lb://AUTH-SERVICE
spring.cloud.gateway.routes[6].predicates[0]=Path=/api/users/**


